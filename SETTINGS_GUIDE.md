# SalaryPlus 系統設定指南

## 概述

SalaryPlus 系統提供了完整的設定功能，讓管理者可以自訂各種計算公式和介面偏好。

## 設定類型

### 1. 一例一休加班費計算

管理加班費的計算公式和費率：

- **平日加班費率**: 預設 1.34 倍
- **休息日前2小時加班費率**: 預設 1.34 倍  
- **休息日第3小時起加班費率**: 預設 1.67 倍
- **國定假日加班費率**: 預設 2.0 倍

#### 計算公式
```
平日加班費 = 基本時薪 × 加班時數 × 1.34
休息日前2小時 = 基本時薪 × 2 × 1.34
休息日第3小時起 = 基本時薪 × (加班時數-2) × 1.67
國定假日加班費 = 基本時薪 × 加班時數 × 2.0
```

### 2. 勞健保自動計算

設定勞工保險和健康保險的費率：

- **勞保費率（員工負擔）**: 預設 11%
- **勞保費率（雇主負擔）**: 預設 22%
- **健保費率（員工負擔）**: 預設 5.17%
- **健保費率（雇主負擔）**: 預設 5.17%
- **勞退提繳率**: 預設 6%

#### 計算公式
```
員工勞保費 = 投保薪資 × 11%
雇主勞保費 = 投保薪資 × 22%
員工健保費 = 投保薪資 × 5.17%
雇主健保費 = 投保薪資 × 5.17%
勞退提繳金 = 投保薪資 × 6%
```

### 3. 所得稅預扣計算

管理所得稅的免稅額和扣除額：

- **個人免稅額（單身）**: 預設 92,000 元
- **個人免稅額（已婚）**: 預設 184,000 元
- **標準扣除額（單身）**: 預設 124,000 元
- **標準扣除額（已婚）**: 預設 248,000 元
- **薪資所得特別扣除額**: 預設 207,000 元

#### 計算公式
```
應納稅額 = (年收入 - 免稅額 - 扣除額) × 稅率
月扣繳稅額 = 應納稅額 ÷ 12
```

### 4. 二代健保補充保費

設定二代健保補充保費的計算參數：

- **補充保費費率**: 預設 2.11%
- **起扣門檻**: 預設 20,000 元
- **計費上限**: 預設 1,000,000 元

#### 計算公式
```
補充保費 = (薪資所得 - 投保金額) × 2.11%
起扣條件：單次給付超過20,000元
年度計費上限：1,000,000元
```

### 5. 介面偏好設定 ✨

新增的暗黑模式和介面自訂功能：

- **主題模式**: 淺色、深色、跟隨系統
- **字體大小**: 小、中、大
- **動畫效果**: 啟用/停用介面動畫
- **緊湊模式**: 減少間距以顯示更多內容
- **側邊欄**: 預設收合狀態

## 暗黑模式功能

### 主題切換

系統提供三種主題模式：

1. **淺色模式**: 傳統的白色背景介面
2. **深色模式**: 深色背景，適合低光環境使用
3. **跟隨系統**: 自動跟隨作業系統的主題設定

### 快捷鍵

- `Ctrl/Cmd + Shift + D`: 快速切換暗黑模式
- `Ctrl/Cmd + ,`: 開啟系統設定
- `Ctrl/Cmd + Shift + S`: 切換側邊欄

### 主題切換器

頁面右上角的浮動主題切換器提供快速切換功能：
- ☀️ 淺色模式
- 🌙 深色模式  
- ⚪ 跟隨系統

## 使用方式

### 修改設定

1. 進入「系統設定」頁面
2. 選擇要修改的設定類型
3. 在對應的欄位中輸入新的數值
4. 點擊「批量更新設定」保存變更

### 計算預覽

每個設定類型都提供即時計算預覽功能：
- 輸入測試數值
- 查看計算結果
- 驗證公式正確性

### 重置預設值

如需恢復原廠設定：
1. 選擇對應的設定類型
2. 點擊「重置預設值」按鈕
3. 確認重置操作

### 匯出/匯入設定

- **匯出設定**: 將當前設定匯出為 CSV 或 JSON 檔案
- **匯入設定**: 從檔案匯入設定（支援批量更新）

## 注意事項

### 法規合規性

- 所有預設值都符合台灣現行勞動基準法
- 建議定期檢查法規更新
- 重要變更前請先備份設定

### 資料安全

- 設定變更會記錄在系統日誌中
- 建議定期匯出設定作為備份
- 重要設定變更需要管理員權限

### 效能考量

- 暗黑模式使用 CSS 變數，效能優異
- 動畫效果可依需求停用以提升效能
- 緊湊模式適合小螢幕或需要顯示更多資料的情況

## 技術規格

### 支援的瀏覽器

- Chrome 88+
- Firefox 85+
- Safari 14+
- Edge 88+

### 響應式設計

- 完整支援桌面、平板、手機
- 暗黑模式在所有裝置上都能正常運作
- 觸控裝置優化

### 無障礙功能

- 支援鍵盤導航
- 符合 WCAG 2.1 AA 標準
- 高對比度模式支援

## 常見問題

### Q: 暗黑模式設定會同步到其他裝置嗎？
A: 目前設定儲存在瀏覽器本地，如需跨裝置同步請使用匯出/匯入功能。

### Q: 可以自訂主題顏色嗎？
A: 目前提供預設的淺色和深色主題，未來版本將支援自訂顏色。

### Q: 設定變更會立即生效嗎？
A: 是的，大部分設定變更會立即生效，部分設定可能需要重新整理頁面。

### Q: 如何恢復誤刪的設定？
A: 可以使用「重置預設值」功能，或從之前匯出的備份檔案匯入設定。

## 更新日誌

### v1.0.0 (2025-06-21)
- ✨ 新增暗黑模式支援
- ✨ 新增介面偏好設定
- ✨ 新增主題切換器
- ✨ 新增鍵盤快捷鍵
- 🎨 優化響應式設計
- 🔧 改善設定頁面使用體驗
